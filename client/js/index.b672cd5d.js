(function(t){function e(e){for(var n,r,c=e[0],o=e[1],l=e[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={index:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="client/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"052c":function(t,e,a){"use strict";var n=a("a662"),s=a.n(n);s.a},1:function(t,e){},"18ce":function(t,e,a){},2124:function(t,e,a){},"2cfa":function(t,e,a){"use strict";var n=a("6ec9"),s=a.n(n);s.a},"325d":function(t,e,a){"use strict";var n=a("db68"),s=a.n(n);s.a},3923:function(t,e,a){"use strict";var n=a("5de5"),s=a.n(n);s.a},"4b57":function(t,e,a){"use strict";var n=a("cf4b"),s=a.n(n);s.a},"4ddf":function(t,e,a){"use strict";var n=a("2124"),s=a.n(n);s.a},"55c6":function(t,e,a){"use strict";var n=a("18ce"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Authorize",{attrs:{client:t.state.client,socket:t.socket}}),t.state.client.code?a("div",[a("Board",[a("Scores",{attrs:{clients:t.state.clients.clients}}),a("DiscardPile",{attrs:{data:t.state.game.discardDeck}}),a("DrawPile",{attrs:{count:t.state.game.drawDeckCount,socket:t.socket,client:t.state.client}}),a("Player",{attrs:{client:t.state.client,socket:t.socket}}),t._l(t.opponents,(function(e,n){return a("Opponent",{key:n,attrs:{data:e,position:t.getOpponentPosition(n)}})})),t.state.game.winner?a("Popup",{attrs:{type:"win",icon:"paper-plane",message:t.state.game.winner+" won!",showButton:!t.state.client.ready,buttonText:"Next round",buttonHandler:t.ready}}):t._e(),t.state.game.winner||t.state.game.ready?t._e():a("Popup",{attrs:{icon:"paper-plane",type:"wait",message:"Waiting for game to start",showButton:!t.state.client.ready,buttonText:"Ready!",buttonHandler:t.ready}})],2)],1):t._e(),a("ErrorMessage",{attrs:{messages:t.state.messages}})],1)},i=[],r=a("8055"),c=a.n(r),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"grad"}),t._t("default")],2)},l=[],u={name:"Board"},d=u,p=(a("3923"),a("2877")),f=Object(p["a"])(d,o,l,!1,null,"071a89b0",null),h=f.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"player"},[a("div",{staticClass:"hand-cards-transform"},[t.client.turn?a("div",t._l(t.cards,(function(e,n){return a("div",{key:n,staticClass:"card-active-border",style:t.transform(e)})})),0):t._e(),t._l(t.cards,(function(e,n){return a("Card",{key:n,attrs:{data:e,clickHandler:t.placeCard}})}))],2),a("div",{staticClass:"client-name",class:{active:t.client.turn}},[a("span",[t._v(t._s(t.client.name))])])]),t.showSpecial?a("div",{staticClass:"popup-pos"},[a("div",{staticClass:"popup-before"}),a("div",{staticClass:"popup"},t._l(t.specialCards,(function(e,n){return a("Card",{key:n,attrs:{data:e,clickHandler:t.placeCard}})})),1),a("div",{staticClass:"popup-after"})]):t._e()])},v=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playing-card-placeholder",style:t.transform},[a("div",{staticClass:"playing_card",class:t.data.type,on:{click:function(e){return t.clickHandler(t.data.type)}}},[a("div"),a("div"),a("div")])])},g=[],b={name:"Card",props:["data","clickHandler"],computed:{transform:function(){return{transform:" rotate("+this.data.angle+"deg) translate("+this.data.x+"px,"+this.data.y+"px)"}}}},C=b,_=(a("4b57"),Object(p["a"])(C,y,g,!1,null,"1eb0d94c",null)),k=_.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"name",class:{active:t.turn}},[t._v(t._s(t.name))])},x=[],O={name:"NamePlate",props:["name","turn"]},P=O,j=(a("d92e"),Object(p["a"])(P,w,x,!1,null,"03947edd",null)),E=j.exports,S={name:"Player",props:["client","socket"],components:{Card:k,NamePlate:E},data:function(){return{showSpecial:!1,showChoice:!1,specialType:""}},computed:{specialCards:function(){let t=[];return t.push({type:"r"+this.specialType,x:200,y:30,angle:0}),t.push({type:"y"+this.specialType,x:300,y:30,angle:0}),t.push({type:"g"+this.specialType,x:400,y:30,angle:0}),t.push({type:"b"+this.specialType,x:500,y:30,angle:0}),t},cards:function(){let t=[];this.client.cards.sort();let e=this.client.cards.length,a=30*e/7;a=Math.min(a,50);let n=-a/2,s=a/2,i=(s-n)/(this.client.cards.length-1),r=n;for(let c=0;c<this.client.cards.length;c++)t.push({type:this.client.cards[c],x:0,y:-600,angle:r}),r+=i;return t}},methods:{placeCard:function(t){"kc"===t?(this.showSpecial=!0,this.specialType="c"):"kg"===t?(this.showSpecial=!0,this.specialType="g"):(this.showSpecial=!1,this.socket.emit("place",{client:this.client,card:t}))},transform:function(t){return{transform:" rotate("+t.angle+"deg) translate("+t.x+"px,"+t.y+"px)"}}}},T=S,M=(a("052c"),Object(p["a"])(T,m,v,!1,null,"662d158d",null)),$=M.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"opponet",style:{left:t.position}},[a("div",{staticClass:"oppo-cards"},[t.data.turn?a("div",t._l(t.cards,(function(e,n){return a("div",{key:n,staticClass:"card-active-border",style:t.transform(e)})})),0):t._e(),t._l(t.cards,(function(e,n){return a("div",{key:n,staticClass:"playing_card back",style:t.transform(e)})}))],2),a("div",{staticClass:"oppo-name",class:{active:t.data.turn}},[a("span",[t._v(t._s(this.data.name))])])])},B=[],H={name:"Opponent",props:["data","position"],computed:{cards:function(){let t=[],e=this.data.cardsCount,a=30*e/7;a=Math.min(a,40);let n=-a/2,s=a/2,i=(s-n)/(e-1),r=n;for(let c=0;c<e;c++)t.push({x:0,y:0,angle:r}),r+=i;return t}},methods:{transform:function(t){return{transform:" rotate("+t.angle+"deg) translate("+t.x+"px,"+t.y+"px)"}}}},N=H,A=(a("a2d4"),Object(p["a"])(N,D,B,!1,null,"7cd83d44",null)),J=A.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.client.code?t._e():a("div",{staticClass:"login-box"},[a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.room,expression:"room"}],staticClass:"input",attrs:{type:"text",placeholder:"Channel"},domProps:{value:t.room},on:{input:function(e){e.target.composing||(t.room=e.target.value)}}})]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.client.name,expression:"client.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Type your name"},domProps:{value:t.client.name},on:{input:function(e){e.target.composing||t.$set(t.client,"name",e.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"big-yellow-button",on:{click:t.login}},[a("i",{staticClass:"fa fa-sign-in-alt"}),t._v(" Join")])])])},L=[],R={name:"Authorize",props:["client","socket"],data:function(){return{error:!1,room:null}},methods:{login:function(){this.client.name.length>0&&(this.socket.emit("create",this.room),this.socket.emit("login",{client:this.client}))}},mounted:function(){}},W=R,q=(a("2cfa"),Object(p["a"])(W,z,L,!1,null,"6f8de90c",null)),F=q.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"discard-pos"},t._l(t.cards,(function(t,e){return a("Card",{key:e,attrs:{data:t}})})),1)},I=[],K={name:"DiscardPile",props:["data"],components:{Card:k},data:function(){return{cards:[]}},methods:{addCard:function(t){this.cards.push({type:t,x:10-20*Math.random(),y:10-20*Math.random(),angle:10-20*Math.random()})}},watch:{data:function(t,e){("undefined"===typeof this.cards[0]||t[0]!==e[0]||e.length>t.length)&&(this.cards=[]);for(let a=0;a<t.length;a++)"undefined"!==typeof this.cards[a]&&this.cards[a].type===t[a]||this.addCard(t[a])}},mounted:function(){for(let t=0;t<this.data.length;t++)this.addCard(this.data[t])}},Q=K,U=(a("9700"),Object(p["a"])(Q,G,I,!1,null,"7f7f8adc",null)),V=U.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"draw-pos"},t._l(t.cards,(function(e,n){return a("div",{key:n,staticClass:"playing_card back",style:t.transform(e),on:{click:t.takeCard}})})),0),t.client.takeOrLeave?a("div",{staticClass:"popup-pos"},[a("div",{staticClass:"popup-before"}),a("div",{staticClass:"popup"},[a("div",{staticClass:"card-row"},[a("CardBase",{attrs:{type:t.client.takeOrLeave}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"big-yellow-button",on:{click:t.playCard}},[a("i",{staticClass:"fa fa-arrow-circle-up"}),t._v(" Place")]),a("div",{staticClass:"big-yellow-button",on:{click:t.takeCard}},[a("i",{staticClass:"fa fa-arrow-circle-down "}),t._v(" Take")])])]),a("div",{staticClass:"popup-after"})]):t._e()])},Y=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playing_card",class:t.type},[a("div"),a("div"),a("div")])},tt=[],et={name:"CardBase",props:["type"]},at=et,nt=(a("9b22"),Object(p["a"])(at,Z,tt,!1,null,"91b3ef44",null)),st=nt.exports,it={name:"DrawPile",props:["count","socket","client"],components:{CardBase:st},data:function(){return{cards:[]}},methods:{transform:function(t){return{transform:"translate("+t.x+"px,"+t.y+"px) rotate("+t.angle+"deg)"}},takeCard:function(){this.socket.emit("take",{client:this.client})},playCard:function(){this.socket.emit("place",{client:this.client,card:this.client.takeOrLeave})}},watch:{count:function(t,e){while(this.cards.length<t)this.cards.push({x:0,y:0,angle:5-10*Math.random()});while(this.cards.length>t)this.cards.pop()}},mounted:function(){while(this.cards.length<this.count)this.cards.push({x:0,y:0,angle:5-10*Math.random()})}},rt=it,ct=(a("8266"),Object(p["a"])(rt,X,Y,!1,null,"13127620",null)),ot=ct.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},ut=[],dt={name:"ErrorMessage",props:["messages"]},pt=dt,ft=(a("55c6"),Object(p["a"])(pt,lt,ut,!1,null,"7f0619ba",null)),ht=ft.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popup"},[a("div",{staticClass:"message",class:t.type},[t._v(t._s(t.message))]),t.showButton?a("div",{staticClass:"block"},[a("div",{staticClass:"big-yellow-button",on:{click:t.buttonHandler}},[a("i",{staticClass:"fa",class:"fa-"+t.icon}),t._v(" "+t._s(t.buttonText))])]):t._e()])},vt=[],yt={name:"Popup",props:["type","message","buttonText","buttonHandler","showButton","icon"]},gt=yt,bt=(a("4ddf"),Object(p["a"])(gt,mt,vt,!1,null,"2cc4ab5c",null)),Ct=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scores"},t._l(t.clients,(function(e,n){return a("div",{key:n,staticClass:"column"},[a("div",{staticClass:"cell"},[t._v(t._s(e.name))]),t._l(e.score,(function(e,n){return a("div",{key:n,staticClass:"cell"},[t._v(t._s(e))])}))],2)})),0)},kt=[],wt={name:"Popup",props:["clients"]},xt=wt,Ot=(a("325d"),Object(p["a"])(xt,_t,kt,!1,null,"5d8bfd83",null)),Pt=Ot.exports,jt=(a("8b26"),{name:"clientApp",data:function(){return{socket:c()("http://"+window.location.hostname+":80"),state:{client:{code:null,name:"",ready:!1,turn:!1,cards:[]},clients:{clients:[]},game:{discardDeck:[],drawDeckCount:0,winner:!1,ready:!0},messages:[]},error:"",config:{discardPilePosition:{x:350,y:300},drawPilePosition:{x:50,y:300}}}},components:{Authorize:F,Board:h,Player:$,Opponent:J,DiscardPile:V,DrawPile:ot,ErrorMessage:ht,Popup:Ct,Scores:Pt},computed:{opponents:function(){let t=[];for(let e=0;e<this.state.clients.clients.length;e++)this.state.clients.clients[e].name!==this.state.client.name&&t.push(this.state.clients.clients[e]);return t}},methods:{getOpponentPosition(t){let e=this.state.clients.clients.length-1,a=800/e;return a/2+t*a-100+"px"},gameStateResponse:function(t){this.state=t},ready:function(){this.state.client.ready=!0,this.socket.emit("begin",{client:this.state.client})}},mounted:function(){this.socket.on("state",this.gameStateResponse)},beforeDestroy:function(){this.socket.disconnect()}}),Et=jt,St=(a("b463"),Object(p["a"])(Et,s,i,!1,null,"18cf2340",null)),Tt=St.exports,Mt=a("2b27"),$t=a.n(Mt);a("15f5");n["a"].use($t.a),new n["a"]({el:"#clientApp",render:t=>t(Tt)})},"5ca3":function(t,e,a){},"5de5":function(t,e,a){},"6be1":function(t,e,a){},"6ec9":function(t,e,a){},7107:function(t,e,a){},8266:function(t,e,a){"use strict";var n=a("8ba1"),s=a.n(n);s.a},"8b26":function(t){t.exports=JSON.parse("{}")},"8ba1":function(t,e,a){},9700:function(t,e,a){"use strict";var n=a("5ca3"),s=a.n(n);s.a},"9b22":function(t,e,a){"use strict";var n=a("bced"),s=a.n(n);s.a},a2d4:function(t,e,a){"use strict";var n=a("6be1"),s=a.n(n);s.a},a662:function(t,e,a){},b463:function(t,e,a){"use strict";var n=a("e831"),s=a.n(n);s.a},bced:function(t,e,a){},cf4b:function(t,e,a){},d92e:function(t,e,a){"use strict";var n=a("7107"),s=a.n(n);s.a},db68:function(t,e,a){},e831:function(t,e,a){}});
//# sourceMappingURL=index.b672cd5d.js.map