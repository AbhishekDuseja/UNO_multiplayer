(function(t){function e(e){for(var a,i,c=e[0],o=e[1],l=e[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={index:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="client/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"12d0":function(t,e,n){"use strict";var a=n("ec73"),r=n.n(a);r.a},"18ce":function(t,e,n){},"1c23":function(t,e,n){},"1d03":function(t,e,n){},"1e19":function(t,e,n){"use strict";var a=n("b4fd"),r=n.n(a);r.a},2652:function(t,e,n){"use strict";var a=n("d43d"),r=n.n(a);r.a},"2fff":function(t,e,n){"use strict";var a=n("b5b9"),r=n.n(a);r.a},"325d":function(t,e,n){"use strict";var a=n("db68"),r=n.n(a);r.a},"32fd":function(t,e,n){"use strict";var a=n("e35b"),r=n.n(a);r.a},3923:function(t,e,n){"use strict";var a=n("5de5"),r=n.n(a);r.a},"55c6":function(t,e,n){"use strict";var a=n("18ce"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Authorize",{attrs:{client:t.state.client,socket:t.socket}}),t.state.client.code?n("div",[n("Board",[n("Scores",{attrs:{clients:t.state.clients.clients}}),n("DiscardPile",{attrs:{data:t.state.game.discardDeck}}),n("DrawPile",{attrs:{count:t.state.game.drawDeckCount,takeHandler:t.takeCard}}),n("Player",{attrs:{client:t.state.client,playHandler:t.playCard}}),t._l(t.opponents,(function(e,a){return n("Opponent",{key:a,attrs:{data:e,position:t.getOpponentPosition(a)}})})),n("AnimateState",{attrs:{animate:t.animate,state:t.state,newState:t.newState,finishHandler:t.animationFinished}}),t.state.game.winner||t.state.game.ready?t._e():n("PopupReady",{attrs:{buttonHandler:t.ready,showButton:!t.state.client.ready}}),t.state.game.winner?n("PopupWon",{attrs:{buttonHandler:t.ready,winner:t.state.game.winner,showButton:!t.state.client.ready}}):t._e(),t.showSpecial?n("PopupSpecial",{attrs:{clickHandler:t.playCard,type:t.specialType}}):t._e(),!t.showSpecial&&t.state.client.takeOrLeave?n("PopupTake",{attrs:{card:t.state.client.takeOrLeave,takeHandler:t.takeCard,leaveHandler:t.playCard}}):t._e()],2)],1):t._e(),n("ErrorMessage",{attrs:{messages:t.state.messages}})],1)},s=[],i=n("8055"),c=n.n(i),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"grad"}),t._t("default")],2)},l=[],u={name:"Board"},d=u,p=(n("3923"),n("2877")),f=Object(p["a"])(d,o,l,!1,null,"071a89b0",null),h=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"player"},[n("div",{staticClass:"hand-cards-transform"},[t.client.turn?n("div",t._l(t.cards,(function(e,a){return n("div",{key:a,staticClass:"card-active-border",style:t.transform(e)})})),0):t._e(),t._l(t.cards,(function(e,a){return n("CardActive",{key:a,attrs:{data:e,clickHandler:t.playHandler}})}))],2),n("div",{staticClass:"client-name",class:{active:t.client.turn}},[n("span",[t._v(t._s(t.client.name))])])])])},v=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"placeholder",style:t.transform},[n("Card",{attrs:{type:t.data.type,clickHandler:t.clickHandler,hover:"true"}})],1)},b=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playing_card",class:[t.type,t.hoverable],on:{click:function(e){t.clickHandler&&t.clickHandler(t.type)}}},[n("div"),n("div"),n("div")])},g=[],k={name:"CardBase",props:["type","clickHandler","hover"],computed:{hoverable:function(){return"true"===this.hover?"card-hoverable":""}}},C=k,w=(n("12d0"),Object(p["a"])(C,_,g,!1,null,"2f8cd381",null)),x=w.exports,H={name:"CardActive",props:["data","clickHandler"],components:{Card:x},computed:{transform:function(){return{transform:" rotate("+this.data.angle+"deg) translate("+this.data.x+"px,"+this.data.y+"px)"}}}},P=H,S=(n("2652"),Object(p["a"])(P,y,b,!1,null,"41eb0e90",null)),O=S.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"name",class:{active:t.turn}},[t._v(t._s(t.name))])},E=[],$={name:"NamePlate",props:["name","turn"]},B=$,R=(n("d92e"),Object(p["a"])(B,j,E,!1,null,"03947edd",null)),M=R.exports,D={name:"Player",props:["client","playHandler"],components:{CardActive:O,Card:x,NamePlate:M},data:function(){return{}},computed:{cards:function(){let t=[];this.client.cards.sort();let e=this.client.cards.length,n=30*e/7;n=Math.min(n,50);let a=-n/2,r=n/2,s=(r-a)/(this.client.cards.length-1),i=a;for(let c=0;c<this.client.cards.length;c++)t.push({type:this.client.cards[c],x:0,y:-600,angle:i}),i+=s;return t}},methods:{transform:function(t){return{transform:" rotate("+t.angle+"deg) translate("+t.x+"px,"+t.y+"px)"}}}},T=D,A=(n("9084"),Object(p["a"])(T,m,v,!1,null,"9112e6e0",null)),I=A.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"opponet",style:{left:t.position}},[n("div",{staticClass:"oppo-cards"},[t.data.turn?n("div",t._l(t.cards,(function(e,a){return n("div",{key:a,staticClass:"card-active-border",style:t.transform(e)})})),0):t._e(),t._l(t.cards,(function(e,a){return n("div",{key:a,staticClass:"playing_card back",style:t.transform(e)})}))],2),n("div",{staticClass:"oppo-name",class:{active:t.data.turn}},[n("span",[t._v(t._s(this.data.name))])])])},F=[],J={name:"Opponent",props:["data","position"],computed:{cards:function(){let t=[],e=this.data.cardsCount,n=30*e/7;n=Math.min(n,40);let a=-n/2,r=n/2,s=(r-a)/(e-1),i=a;for(let c=0;c<e;c++)t.push({x:0,y:0,angle:i}),i+=s;return t}},methods:{transform:function(t){return{transform:" rotate("+t.angle+"deg) translate("+t.x+"px,"+t.y+"px)"}}}},W=J,z=(n("a2d4"),Object(p["a"])(W,N,F,!1,null,"7cd83d44",null)),L=z.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.client.code?t._e():n("div",{staticClass:"login-box"},[n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.room,expression:"room"}],staticClass:"input",attrs:{type:"text",placeholder:"Channel"},domProps:{value:t.room},on:{input:function(e){e.target.composing||(t.room=e.target.value)}}})]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.client.name,expression:"client.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Type your name"},domProps:{value:t.client.name},on:{input:function(e){e.target.composing||t.$set(t.client,"name",e.target.value)}}})]),n("div",{staticClass:"row"},[n("Button",{attrs:{faIcon:"sign-in-alt",clickHandler:t.login}},[t._v("Join")])],1)])},q=[],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button",on:{click:t.clickHandler}},[n("i",{class:"fa fa-"+t.faIcon}),t._v(" "),t._t("default")],2)},K=[],Q={name:"Button",props:["faIcon","clickHandler"]},U=Q,V=(n("8c41"),Object(p["a"])(U,G,K,!1,null,"bd41e7f8",null)),Y=V.exports,Z={name:"Authorize",props:["client","socket"],components:{Button:Y},data:function(){return{error:!1,room:null}},methods:{login:function(){this.client.name.length>0&&(this.socket.emit("create",this.room),this.socket.emit("login",{client:this.client}))}},mounted:function(){}},tt=Z,et=(n("6a8a"),Object(p["a"])(tt,X,q,!1,null,"49946ed2",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"discard-pos"},t._l(t.cards,(function(e,a){return n("div",{key:a,staticClass:"placeholder",style:t.transform(e)},[n("Card",{attrs:{type:e.type}})],1)})),0)},rt=[],st={name:"DiscardPile",props:["data"],components:{Card:x},data:function(){return{cards:[]}},methods:{addCard:function(t){this.cards.push({type:t,x:10-20*Math.random(),y:10-20*Math.random(),angle:10-20*Math.random()})},transform:function(t){return{transform:" rotate("+t.angle+"deg) translate("+t.x+"px,"+t.y+"px)"}}},watch:{data:function(t,e){("undefined"===typeof this.cards[0]||t[0]!==e[0]||e.length>t.length)&&(this.cards=[]);for(let n=0;n<t.length;n++)"undefined"!==typeof this.cards[n]&&this.cards[n].type===t[n]||this.addCard(t[n])}},mounted:function(){for(let t=0;t<this.data.length;t++)this.addCard(this.data[t])}},it=st,ct=(n("8927"),Object(p["a"])(it,at,rt,!1,null,"42a9f5ea",null)),ot=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"draw-pos"},t._l(t.cards,(function(e,a){return n("div",{key:a,staticClass:"playing_card back",style:t.transform(e),on:{click:t.takeHandler}})})),0)])},ut=[],dt={name:"DrawPile",props:["count","takeHandler"],components:{Card:x},data:function(){return{cards:[]}},methods:{transform:function(t){return{transform:"translate("+t.x+"px,"+t.y+"px) rotate("+t.angle+"deg)"}}},watch:{count:function(t,e){while(this.cards.length<t)this.cards.push({x:0,y:0,angle:5-10*Math.random()});while(this.cards.length>t)this.cards.pop()}},mounted:function(){while(this.cards.length<this.count)this.cards.push({x:0,y:0,angle:5-10*Math.random()})}},pt=dt,ft=(n("6f7b"),Object(p["a"])(pt,lt,ut,!1,null,"cb5c5f0c",null)),ht=ft.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},vt=[],yt={name:"ErrorMessage",props:["messages"]},bt=yt,_t=(n("55c6"),Object(p["a"])(bt,mt,vt,!1,null,"7f0619ba",null)),gt=_t.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scores"},t._l(t.clients,(function(e,a){return n("div",{key:a,staticClass:"column"},[n("div",{staticClass:"cell"},[t._v(t._s(e.name))]),t._l(e.score,(function(e,a){return n("div",{key:a,staticClass:"cell"},[t._v(t._s(e))])}))],2)})),0)},Ct=[],wt={name:"Popup",props:["clients"]},xt=wt,Ht=(n("325d"),Object(p["a"])(xt,kt,Ct,!1,null,"5d8bfd83",null)),Pt=Ht.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popup",{scopedSlots:t._u([{key:"topRow",fn:function(){return[n("div",{staticClass:"wait-message"},[t._v("Waiting for game to start")])]},proxy:!0},t.showButton?{key:"bottomRow",fn:function(){return[n("div",{staticClass:"spacer"}),n("Button",{attrs:{faIcon:"paper-plane",clickHandler:t.buttonHandler}},[t._v("Ready!")])]},proxy:!0}:null],null,!0)})},Ot=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup"},[n("div",{staticClass:"row"},[t._t("topRow")],2),n("div",{staticClass:"row"},[t._t("bottomRow")],2)])},Et=[],$t={name:"Popup"},Bt=$t,Rt=(n("2fff"),Object(p["a"])(Bt,jt,Et,!1,null,"729802ac",null)),Mt=Rt.exports,Dt={name:"PopupReady",props:["buttonHandler","showButton"],components:{Popup:Mt,Button:Y}},Tt=Dt,At=(n("e377"),Object(p["a"])(Tt,St,Ot,!1,null,"f29a40f2",null)),It=At.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popup",{scopedSlots:t._u([{key:"topRow",fn:function(){return[n("div",{staticClass:"won-message"},[t._v(t._s(t.winner)+" won!")])]},proxy:!0},t.showButton?{key:"bottomRow",fn:function(){return[n("Button",{attrs:{faIcon:"paper-plane",clickHandler:t.buttonHandler}},[t._v("Next round")])]},proxy:!0}:null],null,!0)})},Ft=[],Jt={name:"PopupWon",components:{Popup:Mt,Button:Y},props:["buttonHandler","winner","showButton"]},Wt=Jt,zt=(n("b4d5"),Object(p["a"])(Wt,Nt,Ft,!1,null,"74f4604a",null)),Lt=zt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popup",{scopedSlots:t._u([{key:"topRow",fn:function(){return[n("div",{staticClass:"card-float"},[n("Card",{attrs:{type:"r"+t.type,clickHandler:t.clickHandler,hover:"true"}})],1),n("div",{staticClass:"card-float"},[n("Card",{attrs:{type:"y"+t.type,clickHandler:t.clickHandler,hover:"true"}})],1),n("div",{staticClass:"card-float"},[n("Card",{attrs:{type:"g"+t.type,clickHandler:t.clickHandler,hover:"true"}})],1),n("div",{staticClass:"card-float"},[n("Card",{attrs:{type:"b"+t.type,clickHandler:t.clickHandler,hover:"true"}})],1)]},proxy:!0}])})},qt=[],Gt={name:"PopupSpecial",props:["clickHandler","type"],components:{Popup:Mt,Card:x}},Kt=Gt,Qt=(n("32fd"),Object(p["a"])(Kt,Xt,qt,!1,null,"dfedd4a4",null)),Ut=Qt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popup",{scopedSlots:t._u([{key:"topRow",fn:function(){return[n("div",{staticClass:"card-center"},[n("Card",{attrs:{type:t.card}})],1)]},proxy:!0},{key:"bottomRow",fn:function(){return[n("div",{staticClass:"button-float"},[n("Button",{attrs:{faIcon:"arrow-circle-up",clickHandler:t.leave}},[t._v("Place")])],1),n("div",{staticClass:"button-float"},[n("Button",{attrs:{faIcon:"arrow-circle-down",clickHandler:t.takeHandler}},[t._v("Take")])],1)]},proxy:!0}])})},Yt=[],Zt={name:"PopupTake",props:["takeHandler","leaveHandler","card"],components:{Popup:Mt,Card:x,Button:Y},methods:{leave:function(){this.leaveHandler(this.card)}}},te=Zt,ee=(n("1e19"),Object(p["a"])(te,Vt,Yt,!1,null,"66080216",null)),ne=ee.exports,ae=(n("8b26"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"animable",staticClass:"redrect"}),n("div",{ref:"cardHidden",staticClass:"card-back"})])}),re=[],se={name:"AnimateState",props:["animate","state","newState","finishHandler","config"],data:function(){return{}},watch:{animate:function(t){t&&this.newState?(console.log(this.getClientCardsDiff()),this.$anime.timeline().add({targets:this.$refs.animable,translateX:[0,250],begin:this.animationStart,complete:this.animationFinish})):this.finishHandler()}},methods:{animationFinish:function(t){t.animatables[0].target.hidden=!0,this.finishHandler()},animationStart:function(t){t.animatables[0].target.hidden=!1},clientTakeCard:function(t){},clientPlaceCard:function(t){},opponentTakeCard:function(t){},opponentPlaceCard:function(t){},getClientCardsDiff:function(){let t=this.state.client.cards.filter(t=>!this.newState.client.cards.includes(t)).concat(this.newState.client.cards.filter(t=>!this.state.client.cards.includes(t)));return t}},mounted:function(){}},ie=se,ce=(n("e96b"),Object(p["a"])(ie,ae,re,!1,null,"57f99f1a",null)),oe=ce.exports,le={name:"clientApp",data:function(){return{socket:c()("http://"+window.location.hostname+":80"),state:{client:{code:null,name:"",ready:!1,turn:!1,cards:[]},clients:{clients:[]},game:{discardDeck:[],drawDeckCount:0,winner:!1,ready:!0},messages:[]},newState:null,animate:!1,error:"",showSpecial:!1,specialType:""}},components:{Authorize:nt,Board:h,Player:I,Opponent:L,DiscardPile:ot,DrawPile:ht,ErrorMessage:gt,Scores:Pt,PopupReady:It,PopupWon:Lt,PopupSpecial:Ut,PopupTake:ne,AnimateState:oe},computed:{opponents:function(){let t=[];for(let e=0;e<this.state.clients.clients.length;e++)this.state.clients.clients[e].name!==this.state.client.name&&t.push(this.state.clients.clients[e]);return t}},methods:{getOpponentPosition(t){let e=this.state.clients.clients.length-1,n=800/e;return n/2+t*n-100+"px"},gameStateResponse:function(t){this.state.client.code?(this.newState=t,this.animate=!0):this.state=t},ready:function(){this.state.client.ready=!0,this.socket.emit("begin",{client:this.state.client})},playCard:function(t){"kc"===t?(this.showSpecial=!0,this.specialType="c"):"kg"===t?(this.showSpecial=!0,this.specialType="g"):(this.showSpecial=!1,this.socket.emit("place",{client:this.state.client,card:t}))},takeCard:function(){this.socket.emit("take",{client:this.state.client})},animationFinished:function(){this.animate=!1,this.newState&&(this.state=this.newState,this.newState=null)}},mounted:function(){this.socket.on("state",this.gameStateResponse)},beforeDestroy:function(){this.socket.disconnect()}},ue=le,de=(n("b463"),Object(p["a"])(ue,r,s,!1,null,"053f8fe0",null)),pe=de.exports,fe=n("2b27"),he=n.n(fe),me=n("01e8"),ve=n.n(me);n("15f5");a["a"].use(ve.a),a["a"].use(he.a),new a["a"]({el:"#clientApp",render:t=>t(pe)})},"5de5":function(t,e,n){},"5f22":function(t,e,n){},"6a8a":function(t,e,n){"use strict";var a=n("7f0d"),r=n.n(a);r.a},"6be1":function(t,e,n){},"6f7b":function(t,e,n){"use strict";var a=n("1c23"),r=n.n(a);r.a},7107:function(t,e,n){},7662:function(t,e,n){},"7f0d":function(t,e,n){},"873c":function(t,e,n){},8927:function(t,e,n){"use strict";var a=n("1d03"),r=n.n(a);r.a},"8b26":function(t){t.exports=JSON.parse("{}")},"8c41":function(t,e,n){"use strict";var a=n("8cf2"),r=n.n(a);r.a},"8cf2":function(t,e,n){},9084:function(t,e,n){"use strict";var a=n("873c"),r=n.n(a);r.a},a2d4:function(t,e,n){"use strict";var a=n("6be1"),r=n.n(a);r.a},ab85:function(t,e,n){},b463:function(t,e,n){"use strict";var a=n("e831"),r=n.n(a);r.a},b4d5:function(t,e,n){"use strict";var a=n("ab85"),r=n.n(a);r.a},b4fd:function(t,e,n){},b5b9:function(t,e,n){},d43d:function(t,e,n){},d92e:function(t,e,n){"use strict";var a=n("7107"),r=n.n(a);r.a},db68:function(t,e,n){},e35b:function(t,e,n){},e377:function(t,e,n){"use strict";var a=n("5f22"),r=n.n(a);r.a},e831:function(t,e,n){},e96b:function(t,e,n){"use strict";var a=n("7662"),r=n.n(a);r.a},ec73:function(t,e,n){}});
//# sourceMappingURL=index.3213c35d.js.map